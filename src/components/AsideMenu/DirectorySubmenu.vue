<template>
  <div class="px-[16px] pt-[15px]">
    <AsideMenuListSkeleton v-if="status == 'loading'" />
    <div v-if="status == 'success'">
      <router-link
        v-slot="{isActive}"
        to="/employees"
      >
        <AsideMenuListItem
          :selected="isActive"
          title="Сотрудники"
          @click="closeMenu"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M14.9998 6.54762C14.5894 6.54762 14.1957 6.71067 13.9055 7.00091C13.6153 7.29114 13.4522 7.68478 13.4522 8.09524C13.4522 8.50569 13.6153 8.89933 13.9055 9.18957C14.1957 9.4798 14.5894 9.64286 14.9998 9.64286C15.4103 9.64286 15.8039 9.4798 16.0942 9.18957C16.3844 8.89933 16.5475 8.50569 16.5475 8.09524C16.5475 7.68478 16.3844 7.29114 16.0942 7.00091C15.8039 6.71067 15.4103 6.54762 14.9998 6.54762ZM11.9046 8.09524C11.9046 7.27433 12.2307 6.48704 12.8112 5.90657C13.3916 5.3261 14.1789 5 14.9998 5C15.8207 5 16.608 5.3261 17.1885 5.90657C17.769 6.48704 18.0951 7.27433 18.0951 8.09524C18.0951 8.91615 17.769 9.70343 17.1885 10.2839C16.608 10.8644 15.8207 11.1905 14.9998 11.1905C14.1789 11.1905 13.3916 10.8644 12.8112 10.2839C12.2307 9.70343 11.9046 8.91615 11.9046 8.09524ZM22.351 7.32143C22.0432 7.32143 21.748 7.44372 21.5303 7.66139C21.3126 7.87907 21.1903 8.1743 21.1903 8.48214C21.1903 8.78998 21.3126 9.08522 21.5303 9.30289C21.748 9.52057 22.0432 9.64286 22.351 9.64286C22.6589 9.64286 22.9541 9.52057 23.1718 9.30289C23.3895 9.08522 23.5117 8.78998 23.5117 8.48214C23.5117 8.1743 23.3895 7.87907 23.1718 7.66139C22.9541 7.44372 22.6589 7.32143 22.351 7.32143ZM19.6427 8.48214C19.6427 8.12648 19.7127 7.7743 19.8489 7.44571C19.985 7.11712 20.1845 6.81855 20.4359 6.56706C20.6874 6.31557 20.986 6.11608 21.3146 5.97997C21.6432 5.84386 21.9954 5.77381 22.351 5.77381C22.7067 5.77381 23.0589 5.84386 23.3875 5.97997C23.7161 6.11608 24.0146 6.31557 24.2661 6.56706C24.5176 6.81855 24.7171 7.11712 24.8532 7.44571C24.9893 7.7743 25.0594 8.12648 25.0594 8.48214C25.0594 9.20044 24.774 9.88931 24.2661 10.3972C23.7582 10.9051 23.0693 11.1905 22.351 11.1905C21.6327 11.1905 20.9439 10.9051 20.4359 10.3972C19.928 9.88931 19.6427 9.20044 19.6427 8.48214ZM6.48793 8.48214C6.48793 8.1743 6.61022 7.87907 6.8279 7.66139C7.04557 7.44372 7.34081 7.32143 7.64865 7.32143C7.95649 7.32143 8.25172 7.44372 8.4694 7.66139C8.68707 7.87907 8.80936 8.1743 8.80936 8.48214C8.80936 8.78998 8.68707 9.08522 8.4694 9.30289C8.25172 9.52057 7.95649 9.64286 7.64865 9.64286C7.34081 9.64286 7.04557 9.52057 6.8279 9.30289C6.61022 9.08522 6.48793 8.78998 6.48793 8.48214ZM7.64865 5.77381C6.93035 5.77381 6.24148 6.05915 5.73357 6.56706C5.22566 7.07497 4.94031 7.76385 4.94031 8.48214C4.94031 9.20044 5.22566 9.88931 5.73357 10.3972C6.24148 10.9051 6.93035 11.1905 7.64865 11.1905C8.36694 11.1905 9.05582 10.9051 9.56373 10.3972C10.0716 9.88931 10.357 9.20044 10.357 8.48214C10.357 7.76385 10.0716 7.07497 9.56373 6.56706C9.05582 6.05915 8.36694 5.77381 7.64865 5.77381ZM9.31311 21.6408C8.96314 21.8714 8.55724 22.0031 8.1385 22.0217C7.71975 22.0402 7.30379 21.9451 6.93475 21.7463C6.56572 21.5476 6.25738 21.2526 6.04247 20.8927C5.82756 20.5329 5.7141 20.1215 5.71412 19.7024V14.6726C5.71412 14.57 5.75489 14.4716 5.82745 14.399C5.9 14.3265 5.99841 14.2857 6.10103 14.2857H9.22025C9.29083 13.7191 9.51748 13.1833 9.8749 12.7381H6.10103C5.58796 12.7381 5.09591 12.9419 4.73311 13.3047C4.37032 13.6675 4.1665 14.1596 4.1665 14.6726V19.7024C4.1663 20.3687 4.33818 21.0237 4.66549 21.6041C4.99279 22.1845 5.46443 22.6705 6.03472 23.0151C6.60501 23.3596 7.25461 23.5511 7.92062 23.5709C8.58663 23.5907 9.24646 23.4381 9.83621 23.128C9.59452 22.6586 9.41851 22.1582 9.31311 21.6408ZM20.1635 23.128C20.7532 23.4381 21.413 23.5907 22.0791 23.5709C22.7451 23.5511 23.3947 23.3596 23.965 23.0151C24.5352 22.6705 25.0069 22.1845 25.3342 21.6041C25.6615 21.0237 25.8334 20.3687 25.8332 19.7024V14.6726C25.8332 14.1596 25.6294 13.6675 25.2666 13.3047C24.9038 12.9419 24.4117 12.7381 23.8986 12.7381H20.1248C20.4819 13.1835 20.7085 13.7192 20.7794 14.2857H23.8986C24.0013 14.2857 24.0997 14.3265 24.1722 14.399C24.2448 14.4716 24.2856 14.57 24.2856 14.6726V19.7024C24.2856 20.1215 24.1721 20.5329 23.9572 20.8927C23.7423 21.2526 23.434 21.5476 23.0649 21.7463C22.6959 21.9451 22.2799 22.0402 21.8612 22.0217C21.4424 22.0031 21.0365 21.8714 20.6866 21.6408C20.5812 22.1581 20.4051 22.6586 20.1635 23.128ZM12.2915 12.7381C11.7784 12.7381 11.2864 12.9419 10.9236 13.3047C10.5608 13.6675 10.357 14.1596 10.357 14.6726V20.4762C10.357 21.7076 10.8461 22.8885 11.7168 23.7592C12.5875 24.6299 13.7685 25.119 14.9998 25.119C16.2312 25.119 17.4121 24.6299 18.2828 23.7592C19.1535 22.8885 19.6427 21.7076 19.6427 20.4762V14.6726C19.6427 14.1596 19.4389 13.6675 19.0761 13.3047C18.7133 12.9419 18.2212 12.7381 17.7082 12.7381H12.2915ZM11.9046 14.6726C11.9046 14.57 11.9454 14.4716 12.0179 14.399C12.0905 14.3265 12.1889 14.2857 12.2915 14.2857H17.7082C17.8108 14.2857 17.9092 14.3265 17.9818 14.399C18.0543 14.4716 18.0951 14.57 18.0951 14.6726V20.4762C18.0951 21.2971 17.769 22.0844 17.1885 22.6649C16.608 23.2453 15.8207 23.5714 14.9998 23.5714C14.1789 23.5714 13.3916 23.2453 12.8112 22.6649C12.2307 22.0844 11.9046 21.2971 11.9046 20.4762V14.6726Z"
              fill="currentColor"
            />
          </svg>
        </AsideMenuListItem>
      </router-link>
      <router-link
        v-slot="{ isActive}"
        to="/tags"
      >
        <AsideMenuListItem
          :selected="isActive"
          title="Метки"
          @click="closeMenu"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M15.1314 7.73928C15.2871 7.57676 15.5025 7.48486 15.7276 7.48486L21.6895 7.48486C22.1456 7.48486 22.5153 7.85458 22.5153 8.31064V14.2726C22.5153 14.4977 22.4234 14.713 22.2609 14.8688L14.8658 21.9558C14.5414 22.2666 14.0281 22.2611 13.7105 21.9435L8.05667 16.2897C7.73902 15.972 7.73356 15.4587 8.04438 15.1344L15.1314 7.73928ZM14.1828 6.34215L6.29265 14.5753C5.67101 15.224 5.68193 16.2506 6.31723 16.8859L13.1143 23.6829C13.7496 24.3182 14.7762 24.3291 15.4248 23.7075L23.658 15.8174C23.983 15.5059 24.1668 15.0752 24.1668 14.625V7.48486C24.1668 6.57274 23.4274 5.83331 22.5153 5.83331H15.3752C14.925 5.83331 14.4943 6.0171 14.1828 6.34215ZM17.0535 11.0579C17.3059 10.8055 17.6406 10.6665 17.9979 10.6665C18.3553 10.6665 18.6899 10.8055 18.9424 11.0579C19.1948 11.3103 19.3337 11.645 19.3337 12.0023C19.3337 12.3597 19.1948 12.6943 18.9424 12.9467C18.6899 13.1992 18.3553 13.3381 17.9979 13.3381C17.6406 13.3381 17.3059 13.1992 17.0535 12.9467C16.8011 12.6943 16.6621 12.3597 16.6621 12.0023C16.6621 11.645 16.8011 11.3103 17.0535 11.0579Z"
              fill="currentColor"
            />
          </svg>
        </AsideMenuListItem>
      </router-link>
      <!-- TODO: сделать где-нибудь единственный объект со всеми ссылками, чтобы было прямо константами
      по типу:
      const menu = {
        ...
        directory: [
          {
            name: 'Цвета',
            icon: '<название_svg>',
            to: '/colors'
          }
        ]
      }
      Это упростит добавление ссылок и управление ими. Там, где нужно динамически подгружать ссылки (например доски), можно оставить логику внутри компонента
      -->
      <!-- Пока что будут подсвечиваться обе вкладки (на самописном роутинге и vue-router). После полного перехода на vue-router всё нормально буджет -->
      <router-link
        v-slot="{ isActive}"
        to="/colors"
      >
        <AsideMenuListItem
          :selected="isActive"
          title="Цвета"
          @click="closeMenu"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24.6092 11.9041L23.6149 10.9103C23.278 10.5735 22.8029 10.452 22.3666 10.5569C22.4715 10.1153 22.35 9.64044 22.013 9.30918L19.8533 7.15045C19.6544 6.95169 19.4003 6.82471 19.1352 6.78054C19.091 6.51553 18.964 6.26156 18.7651 6.0628L18.0912 5.38923C17.572 4.87026 16.7324 4.87026 16.2187 5.38923L9.43554 12.1691C8.91631 12.6881 8.91631 13.5273 9.43554 14.0407L10.8828 15.4872C11.0208 15.6253 11.0816 15.8075 11.065 16.0007C11.0429 16.1884 10.938 16.3596 10.7778 16.4645C6.46931 19.2084 6.06608 19.6115 5.89484 19.7826C4.70172 20.9752 4.70172 22.913 5.89484 24.1056C7.08796 25.2981 9.02679 25.2981 10.2199 24.1056C10.3911 23.9344 10.7944 23.5314 13.5397 19.225C13.6446 19.0649 13.8103 18.96 14.0037 18.9379C14.197 18.9158 14.3848 18.9821 14.5174 19.1146L15.9646 20.5611C16.4838 21.0801 17.3234 21.0801 17.8371 20.5611L24.6202 13.7812C25.1284 13.2567 25.1284 12.4175 24.6092 11.9041ZM16.8926 19.617L15.4453 18.1705C15.0255 17.7509 14.44 17.5466 13.849 17.6128C13.258 17.6791 12.7332 18.0048 12.4128 18.5017C11.1976 20.412 9.66202 22.764 9.26983 23.156C8.59594 23.8295 7.49672 23.8295 6.82283 23.156C6.14893 22.4824 6.14893 21.3837 6.82283 20.7101C7.21501 20.3182 9.57364 18.7888 11.4793 17.5687C11.9765 17.2484 12.3079 16.7239 12.3742 16.1332C12.4404 15.5424 12.2305 14.9572 11.8163 14.5376L10.3691 13.0911L11.4241 12.0366L17.9421 18.5514L16.8926 19.617ZM18.8811 17.6294L12.3631 11.1146L17.1522 6.32781L17.8316 7.00138L17.0748 8.67978C17.0472 8.73499 17.0638 8.80676 17.108 8.85093C17.1522 8.8951 17.224 8.90614 17.2792 8.87854L18.9198 8.08903L21.0795 10.2478L19.0181 13.7328C18.9794 13.7935 18.9849 13.8708 19.0346 13.9205C19.0844 13.9702 19.1672 13.9812 19.228 13.9371L22.6814 11.8433L23.6757 12.8371L18.8811 17.6294Z"
              fill="currentColor"
            />
            <path
              d="M9.03784 21.7315C9.03784 22.1622 8.68984 22.51 8.25899 22.51C7.82814 22.51 7.48015 22.1622 7.48015 21.7315C7.48015 21.3009 7.82814 20.9531 8.25899 20.9531C8.68984 20.9531 9.03784 21.3009 9.03784 21.7315Z"
              fill="currentColor"
            />
          </svg>
        </AsideMenuListItem>
      </router-link>
      <router-link
        v-slot="{ isActive}"
        to="/options"
      >
        <AsideMenuListItem
          :selected="isActive"
          title="Основные"
          @click="closeMenu"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_691_19271)">
              <path
                d="M18.5416 14.9447C18.5416 13.8717 18.1226 12.8498 17.3562 12.0936C16.5898 11.3272 15.5781 10.9082 14.5051 10.9082C13.4321 10.9082 12.4102 11.3272 11.6438 12.0834C10.8774 12.8498 10.4584 13.8615 10.4584 14.9345C10.4584 16.0075 10.8774 17.0294 11.6438 17.7856C12.4102 18.552 13.4219 18.971 14.4949 18.971C15.5576 18.971 16.6 18.5418 17.346 17.7856C18.1226 17.0294 18.5416 16.0177 18.5416 14.9447ZM15.9868 16.4265C15.5883 16.825 15.0671 17.0396 14.5051 17.0396C13.943 17.0396 13.4219 16.825 13.0233 16.4265C12.6248 16.0279 12.4102 15.5067 12.4102 14.9447C12.4102 14.3827 12.6248 13.8615 13.0233 13.4629C13.4219 13.0644 13.943 12.8498 14.5051 12.8498C15.0671 12.8498 15.5883 13.0644 15.9868 13.4629C16.3854 13.8615 16.6 14.3827 16.6 14.9447C16.6 15.5067 16.3752 16.0279 15.9868 16.4265Z"
                fill="currentColor"
              />
              <path
                d="M24.9388 17.3255C24.857 17.0599 24.6833 16.835 24.4585 16.6613L23.13 15.6803C23.0074 15.5985 22.9154 15.4759 22.8439 15.3533C22.7826 15.2204 22.7417 15.0774 22.7417 14.9343C22.7417 14.7912 22.7724 14.638 22.8439 14.5153C22.9052 14.3825 23.0074 14.2701 23.13 14.1883L24.4483 13.2175C24.6731 13.054 24.8366 12.8292 24.9286 12.5533C25.0205 12.2774 25.0205 12.0015 24.9388 11.7358C24.4483 10.162 23.6001 8.69051 22.476 7.48467C22.2819 7.28029 22.0366 7.14745 21.7709 7.08613C21.6789 7.06569 21.587 7.05547 21.495 7.05547C21.3111 7.05547 21.1271 7.09635 20.9636 7.16788L19.4716 7.8219C19.3592 7.87299 19.2366 7.89343 19.0629 7.89343H19.0527C18.9096 7.88321 18.7665 7.84234 18.6439 7.7708C18.5213 7.69927 18.4089 7.59708 18.3271 7.47445C18.2454 7.35182 18.1943 7.20876 18.184 7.06569L18.0001 5.44088C17.9694 5.16496 17.857 4.89927 17.6629 4.69489C17.4789 4.49051 17.2337 4.34745 16.9578 4.28613C16.1505 4.10219 15.333 4.01022 14.5052 4C13.6775 4.01022 12.8497 4.10219 12.0527 4.28613C11.7767 4.34745 11.5315 4.49051 11.3476 4.69489C11.1636 4.89927 11.0512 5.16496 11.0103 5.44088L10.8366 7.06569C10.8162 7.20876 10.7651 7.35182 10.6935 7.47445C10.6118 7.59708 10.4994 7.69927 10.3767 7.7708C10.2439 7.85255 10.1008 7.89343 9.89646 7.90365C9.76361 7.90365 9.64098 7.88321 9.52857 7.83212L8.0366 7.16788C7.8731 7.09635 7.68916 7.06569 7.50521 7.06569C7.41324 7.06569 7.32127 7.07591 7.2293 7.08613C6.96361 7.14745 6.71835 7.28029 6.52419 7.48467C5.4001 8.70073 4.55193 10.162 4.06142 11.7358C3.97967 12.0015 3.97967 12.2774 4.07164 12.5431C4.15339 12.8088 4.32711 13.0336 4.55193 13.1971L5.87018 14.1679C5.99281 14.2599 6.08478 14.3723 6.14609 14.4949C6.2074 14.6277 6.24828 14.7708 6.24828 14.9139C6.24828 15.0569 6.21762 15.2102 6.14609 15.3328C6.08478 15.4657 5.98259 15.5781 5.87018 15.6599L4.54171 16.6715C4.31689 16.835 4.15339 17.0701 4.06142 17.3358C3.97967 17.6015 3.96945 17.8876 4.06142 18.1533C4.55193 19.727 5.41032 21.1985 6.52419 22.4044C6.64682 22.5372 6.8001 22.6394 6.96361 22.7212C7.12711 22.7927 7.31105 22.8336 7.495 22.8336C7.67894 22.8336 7.86288 22.7927 8.02638 22.7212L9.52857 22.0672C9.64098 22.0161 9.76361 21.9956 9.93733 21.9956C9.94755 21.9956 9.94755 21.9956 9.95777 21.9956C10.1008 22.0058 10.2439 22.0467 10.3665 22.1182C10.4892 22.1898 10.6016 22.292 10.6833 22.4146C10.7651 22.5372 10.8162 22.6803 10.8264 22.8234L11.0103 24.438C11.041 24.7139 11.1534 24.9693 11.3373 25.1737C11.5213 25.3781 11.7563 25.5212 12.0322 25.5825C12.8395 25.7766 13.6673 25.8686 14.5052 25.8686C15.333 25.8686 16.1607 25.7664 16.968 25.5723C17.2337 25.511 17.4789 25.3679 17.6629 25.1533C17.8468 24.9489 17.9592 24.6934 17.9899 24.4175L18.1636 22.7825C18.1738 22.6394 18.2249 22.4963 18.3067 22.3737C18.3884 22.2511 18.4906 22.1489 18.6235 22.0774C18.7563 22.0058 18.8892 21.965 19.0833 21.9547C19.2162 21.9547 19.3388 21.9854 19.4614 22.0365L20.9636 22.6905C21.1373 22.762 21.3111 22.8029 21.5052 22.8029C21.5972 22.8029 21.6892 22.7927 21.7709 22.7723C22.0468 22.7109 22.2921 22.5781 22.476 22.3737C23.6001 21.1679 24.4483 19.6964 24.9388 18.1226C25.0205 17.8672 25.0205 17.581 24.9388 17.3255ZM16.2424 22.5883L16.1096 23.7839C15.5782 23.8861 15.0468 23.9372 14.5052 23.9372C13.9636 23.9372 13.4322 23.8861 12.9008 23.7839L12.768 22.5985C12.6862 21.8934 12.3592 21.2496 11.8278 20.7796C11.4191 20.4117 10.9081 20.1766 10.3665 20.0949C10.2132 20.0745 10.06 20.054 9.90667 20.054C9.50813 20.054 9.13003 20.1358 8.76215 20.2891L7.66872 20.7591C6.96361 19.9314 6.422 19.0015 6.05412 17.9796L7.02492 17.2642C7.38259 16.9985 7.68916 16.6409 7.88332 16.2423C8.0877 15.8438 8.18989 15.3942 8.18989 14.9445C8.18989 14.4949 8.0877 14.0453 7.88332 13.6467C7.67894 13.2482 7.38259 12.8905 7.02492 12.6248L6.05412 11.9095C6.422 10.8876 6.96361 9.95766 7.66872 9.12993L8.75193 9.61022C9.11981 9.77372 9.50813 9.85547 9.90667 9.85547C10.6118 9.85547 11.2965 9.58978 11.8278 9.11971C12.3592 8.64964 12.6862 7.99562 12.768 7.29051L12.9008 6.10511C13.4322 6.01314 13.9738 5.96204 14.5052 5.95182C15.0468 5.96204 15.5782 6.01314 16.1096 6.10511L16.2322 7.29051C16.314 7.9854 16.6512 8.63942 17.1826 9.10949C17.5913 9.47737 18.1023 9.71241 18.6439 9.80438C18.7972 9.82482 18.9505 9.84526 19.1038 9.84526C19.5023 9.84526 19.8906 9.7635 20.2483 9.61022L21.3315 9.12993C22.0366 9.95766 22.5782 10.8876 22.9461 11.9095L21.9753 12.6248C21.6176 12.8905 21.3111 13.238 21.1067 13.6467C20.9023 14.0453 20.8001 14.4949 20.8001 14.9445C20.8001 15.3942 20.9125 15.8438 21.1067 16.2423C21.3111 16.6409 21.6074 16.9985 21.9753 17.2642L22.9461 17.9796C22.5782 19.0015 22.0366 19.9314 21.3315 20.7591L20.2483 20.2891C19.8804 20.1255 19.4819 20.0438 19.0833 20.0438H18.93C18.4804 20.0642 18.0308 20.1971 17.6527 20.4219C17.2643 20.6467 16.9271 20.9635 16.6819 21.3416C16.4468 21.7095 16.2833 22.1387 16.2424 22.5883Z"
                fill="currentColor"
              />
            </g>
            <defs>
              <clipPath id="clip0_691_19271">
                <rect
                  width="21"
                  height="21.8788"
                  fill="white"
                  transform="translate(4 4)"
                />
              </clipPath>
            </defs>
          </svg>
        </AsideMenuListItem>
      </router-link>
      <router-link
        v-slot="{ isActive}"
        to="/tarif"
      >
        <AsideMenuListItem
          :selected="isActive"
          title="Тариф"
          @click="closeMenu"
        >
          <svg
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.131 17.2381C18.6212 17.2381 20.0504 16.6461 21.1042 15.5923C22.158 14.5385 22.75 13.1093 22.75 11.619C22.75 10.1288 22.158 8.69956 21.1042 7.64578C20.0504 6.59201 18.6212 6 17.131 6H11.8631C11.5837 6 11.3157 6.111 11.1181 6.30858C10.9205 6.50617 10.8095 6.77415 10.8095 7.05357V15.131H9.05357C8.77415 15.131 8.50617 15.242 8.30858 15.4395C8.111 15.6371 8 15.9051 8 16.1845C8 16.4639 8.111 16.7319 8.30858 16.9295C8.50617 17.1271 8.77415 17.2381 9.05357 17.2381H10.8095V19.5794H9.05357C8.77415 19.5794 8.50617 19.6904 8.30858 19.8879C8.111 20.0855 8 20.3535 8 20.6329C8 20.9124 8.111 21.1803 8.30858 21.3779C8.50617 21.5755 8.77415 21.6865 9.05357 21.6865H10.8095V23.4425C10.8095 23.7219 10.9205 23.9899 11.1181 24.1874C11.3157 24.385 11.5837 24.496 11.8631 24.496C12.1425 24.496 12.4105 24.385 12.6081 24.1874C12.8057 23.9899 12.9167 23.7219 12.9167 23.4425V21.6865H16.7798C17.0592 21.6865 17.3272 21.5755 17.5247 21.3779C17.7223 21.1803 17.8333 20.9124 17.8333 20.6329C17.8333 20.3535 17.7223 20.0855 17.5247 19.8879C17.3272 19.6904 17.0592 19.5794 16.7798 19.5794H12.9167V17.2381H17.131ZM12.9167 8.10714H17.131C18.0624 8.10714 18.9556 8.47715 19.6142 9.13576C20.2729 9.79437 20.6429 10.6876 20.6429 11.619C20.6429 12.5505 20.2729 13.4437 19.6142 14.1023C18.9556 14.7609 18.0624 15.131 17.131 15.131H12.9167V8.10714Z"
              fill="currentColor"
            />
          </svg>
        </AsideMenuListItem>
      </router-link>
      <router-link
        v-slot="{ isActive}"
        to="/help"
      >
        <AsideMenuListItem
          :selected="isActive"
          title="Помощь"
          @click="closeMenu"
        >
          <svg
            width="26"
            height="26"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M26.9336 23.8708C26.86 23.612 26.8961 23.3357 27.0189 23.0964C27.6805 21.8072 28.0411 20.3656 28.0411 18.8913C28.0411 15.1044 25.6645 11.7019 22.1616 10.3618C21.7669 10.2108 21.4831 9.85297 21.4326 9.43345C20.7895 4.09343 16.2853 0 10.7668 0C4.851 0 0.039439 4.81156 0.039439 10.7274C0.039439 12.4824 0.480082 14.2035 1.29852 15.765C1.42234 16.0012 1.45858 16.2751 1.38729 16.5321L0.472467 19.8303C0.264625 20.5796 0.95404 21.2691 1.70337 21.0612L5.00321 20.1459C5.25924 20.0749 5.53208 20.1105 5.7676 20.2335C6.92153 20.8361 8.16682 21.2422 9.46643 21.3963C9.88932 21.4465 10.2512 21.7308 10.4037 22.1285C11.7454 25.6279 15.1461 28.0017 18.9307 28.0017C20.4071 28.0017 21.8506 27.64 23.1412 26.9767C23.3773 26.8554 23.6495 26.8184 23.9056 26.8885L26.409 27.5731C27.1603 27.7786 27.8478 27.0842 27.6346 26.3349L26.9336 23.8708ZM22.7957 24.8466C21.652 25.5959 20.3111 25.9903 18.9307 25.9903C16.3928 25.9903 14.0581 24.6257 12.7985 22.4943C12.4741 21.9453 12.8641 21.2923 13.4805 21.1287C17.2047 20.14 20.202 17.1703 21.1735 13.4528C21.3356 12.8325 21.9914 12.4372 22.5436 12.7629C24.6693 14.0162 26.0297 16.3235 26.0297 18.8913C26.0297 20.2716 25.6353 21.6126 24.886 22.7563L24.8641 22.7928C24.7269 23.0215 24.6885 23.2962 24.7579 23.5537C24.9548 24.2851 24.2729 24.9515 23.5416 24.7546C23.2927 24.6876 23.0247 24.7194 22.7994 24.8445L22.7957 24.8466ZM3.55079 16.2305C3.62548 15.9654 3.58748 15.6811 3.44574 15.4449L3.43119 15.4206C2.5241 14.0008 2.05083 12.3838 2.05083 10.7274C2.05083 5.91585 5.95529 2.01139 10.7668 2.01139C15.5784 2.01139 19.5223 5.91585 19.5223 10.7274C19.5223 15.539 15.6178 19.4434 10.8063 19.4434C9.14985 19.4434 7.53285 18.9701 6.11304 18.0631L6.08695 18.0474C5.85181 17.9063 5.56904 17.868 5.30482 17.9414L4.59098 18.1397C3.83984 18.3483 3.14942 17.6554 3.36079 16.905L3.55079 16.2305Z M11.7923 15.6376C11.7923 15.0853 11.3388 14.6319 10.7866 14.6319C10.2343 14.6319 9.78087 15.0853 9.78087 15.6376C9.78087 16.1898 10.2343 16.6432 10.7866 16.6432C11.3388 16.6432 11.7923 16.1898 11.7923 15.6376Z M9.32732 8.28219C9.33821 8.28219 9.34703 8.27327 9.34717 8.26238C9.35763 7.48287 9.98468 6.86238 10.7668 6.86238C11.5556 6.86238 12.1866 7.49341 12.1866 8.28219C12.1866 8.67657 12.0289 9.07096 11.7134 9.34704L10.0644 10.8641C9.85855 11.0535 9.74143 11.3204 9.74143 11.6001V12.4093C9.74143 12.9615 10.1891 13.4093 10.7414 13.4093H10.7958C11.3243 13.4093 11.7528 12.9808 11.7528 12.4522C11.7528 12.1826 11.8666 11.9255 12.0661 11.7441L13.0543 10.8457C13.7642 10.2147 14.1586 9.26816 14.1586 8.32162C14.1586 6.42855 12.6205 4.89043 10.7274 4.89043C8.83433 4.89043 7.29621 6.42855 7.29621 8.32162C7.29621 8.43053 7.3845 8.51882 7.49341 8.51882H9.18928C9.25463 8.51882 9.3076 8.46585 9.3076 8.4005V8.3019C9.3076 8.29101 9.31643 8.28219 9.32732 8.28219Z"
              fill="currentColor"
            />
          </svg>
        </AsideMenuListItem>
      </router-link>
    </div>
  </div>
</template>

<script>
import AsideMenuListSkeleton from '@/components/AsideMenu/AsideMenuListSkeleton.vue'
import AsideMenuListItem from '@/components/AsideMenu/AsideMenuListItem.vue'

export default {
  components: {
    AsideMenuListSkeleton,
    AsideMenuListItem
  },
  props: {
    menu: {
      type: Array,
      default: () => []
    }
  },
  computed: {
    status () {
      return this.$store.state.navigator.status
    },
    isAsideMobileExpanded () {
      return this.$store.state.isAsideMobileExpanded
    },
    isPropertiesMobileExpanded () {
      return this.$store.state.isPropertiesMobileExpanded
    },
    lastNavStack () {
      return this.$store.getters.lastNavStackElement
    },
    storeNavigator () {
      return this.$store.getters.sortedNavigator
    },
    isEmpsSelected () {
      return this.lastNavStack?.greedPath === 'new_emps'
    },
    isTagsSelected () {
      return this.lastNavStack?.greedPath === 'tags'
    },
    isColorsSelected () {
      return this.lastNavStack?.greedPath === 'colors'
    },
    isSupportSelected () {
      return this.$store.state.navigator.currentSettingsTab === 'support'
    },
    isOptionSelected () {
      return this.$store.state.navigator.currentSettingsTab === 'option'
    }
  },
  methods: {
    // Выношу логику по скрытию меню из selectSubMenuItem
    closeMenu () {
      this.$store.state.navigator.submenu.status = false

      if (this.isPropertiesMobileExpanded) {
        this.$store.dispatch('asidePropertiesToggle', false)
      }
      if (this.isAsideMobileExpanded) {
        this.$store.dispatch('asideMobileToggle', false)
      }
    },
    selectSubMenuItem (isSelected, cbOpenView) {
      localStorage.setItem('lastTab', 'directory')
      // закрываем сабменю
      this.$store.state.navigator.submenu.status = false
      // если вкладка не поменялась - ничего не делаем
      if (isSelected) return
      // закрываем свойства
      if (this.isPropertiesMobileExpanded) {
        this.$store.dispatch('asidePropertiesToggle', false)
      }
      if (this.isAsideMobileExpanded) {
        this.$store.dispatch('asideMobileToggle', false)
      }
      cbOpenView()
    },
    gotoColors () {
      this.selectSubMenuItem(this.isColorsSelected, () => {
        // открываем вид
        this.$store.commit('basic', { key: 'mainSectionState', value: 'greed' })
        this.$store.commit('basic', { key: 'greedPath', value: 'colors' })
        const navElem = {
          name: 'Цвета',
          key: 'greedSource',
          greedPath: 'colors',
          value: this.storeNavigator.colors?.items
        }
        this.$store.commit('updateStackWithInitValue', navElem)
        this.$store.commit('basic', { key: 'greedSource', value: navElem.value })
      })
    },
    gotoReglaments () {
      this.selectSubMenuItem(this.isReglamentsSelected, () => {
        // открываем вид
        this.$store.commit('basic', { key: 'mainSectionState', value: 'greed' })
        this.$store.commit('basic', { key: 'greedPath', value: 'reglaments' })
        const navElem = {
          name: 'Регламенты',
          key: 'greedSource',
          greedPath: 'reglaments',
          value: this.storeNavigator.reglaments?.items
        }
        this.$store.commit('updateStackWithInitValue', navElem)
        this.$store.commit('basic', { key: 'greedSource', value: navElem.value })
      })
    }
  }
}
</script>
